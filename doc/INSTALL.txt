** Installation **

Using python virtualenv and pip.
You need build-essential package (on debian based distributions) in order to compile python dependencies.

Create a virtualenv
  virtualenv -p /usr/bin/python2.7 bilboVE
  cd bilboVE
  source bin/activate

Clone bilbo
  git clone path.to.bilbo.repository

Install dependencies
  pip install -r bilbo/dependencies/requirements.txt

Config for DOI search
  cd KB/config/
  cp config.txt.dist config.txt
  add your crossref username

You're good to go.


-------


Installing the web API :
Beware that the web API is not secure proof at all, open it to the world at your own risk.
Using uwsgi to launch python and an httpd to handle request.

Give httpd user write access to bilbo/src/web-server/tmp/ 


** uwsgi **
You should have these packages : uwsgi uwsgi-plugin-python uwsgi-plugin-http (on debian based distributions)

[uwsgi]
socket = /var/run/uwsgi/bilbo-web.sock
master = true
processes = 4
plugins = http,python
chdir = /path/to/bilbo/src/web-server
module = bilbo-web
uid = www-data
gid = www-data
virtualenv = /path/to/bilboVE
post-buffering = 1
reload-on-as = 1024
reload-on-rss = 1024
max-requests = 10


** With nginx **

server {
	listen 80;
	server_name bilbo-web.example.org;
	root /path/to/bilbo/src/web-server;
	location / {
		include uwsgi_params;
		uwsgi_read_timeout 3600;
		uwsgi_cache off;
		uwsgi_pass unix:/var/run/uwsgi/bilbo.sock;
	}
}


** With apache **
You should have mod_uwsgi enabled (package libapache2-mod-uwsgi on debian based distributions)

<VirtualHost *:80>
	ServerName bilbo-web.example.org
	DocumentRoot /path/to/bilbo/src/web-server
	ErrorLog  /var/log/apache2/bilbo-web_error.log
	CustomLog /var/log/apache2/bilbo-web_access.log combined
	<Directory /path/to/bilbo/src/web-server>
		Order deny,allow
		Allow from all
	</Directory>
	<location />
		SetHandler uwsgi-handler
		uWSGISocket /var/run/uwsgi/bilbo-web.sock
	</location>
</VirtualHost>


